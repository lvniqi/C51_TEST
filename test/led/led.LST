C51 COMPILER V9.00   LED                                                                   04/22/2013 11:41:02 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE LED
OBJECT MODULE PLACED IN led.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE led.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include"normal.h"
   2          #include"pt.h"
   3          #include"timer_0.h"
   4          #include"Led_4.h"
   5          static PT pt1,pt2;
   6          static int protothread2(PT *pt)
   7          {
   8   1              static int i;
   9   1              PT_BEGIN(pt);
  10   3              while(1)
  11   3              {
  12   4                      PT_WAIT_WHILE(pt,timer_0%5);
  13   4                      Led_display(LED_Buffer);
  14   4                      Led_set(i++/10);
  15   4              }
  16   3              PT_END(pt);
  17   1      }
  18          static int protothread1(PT *pt)
  19          {
  20   1        static uchar a = 0xff;
  21   1        static uchar i;
  22   1        PT_BEGIN(pt);
  23   3        while(1) 
  24   3              {
  25   4                      for(i=0;i<=8;i++)
  26   4                      {
  27   5                              PT_WAIT_UNTIL(pt, timer_0>=200+200*i);
  28   5                              P1=a;
  29   5                              a<<=1;
  30   5                      }
  31   4                      for(i=0;i<8;i++)
  32   4                      {
  33   5                              PT_WAIT_UNTIL(pt, timer_0>=2000+200*i);
  34   5                              a=~a;
  35   5                              a>>=1;
  36   5                              a=~a;
  37   5                              P1=a;
  38   5                      }
  39   4                      timer_0=0;
  40   4              }
  41   3        PT_END(pt);
  42   1      }
  43          int main(void)
  44          {
  45   1              set_timer_0();
  46   1              timer_0_start();
  47   1              PT_INIT(&pt1);
  48   1              PT_INIT(&pt2);
  49   1              while(1)
  50   1              {
  51   2                      protothread1(&pt1);
  52   2                      protothread2(&pt2);
  53   2              }
  54   1      }

C51 COMPILER V9.00   LED                                                                   04/22/2013 11:41:02 PAGE 2   


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    615    ----
   CONSTANT SIZE    =     16    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     15      12
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
